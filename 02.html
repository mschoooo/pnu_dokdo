<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…ë„: ì—­ì‚¬ì™€ ì£¼ê¶Œì˜ ê¸°ë¡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Noto Serif KR (ëª…ì¡°) ì¶”ê°€ -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Noto+Serif+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #fdfbf7; color: #44403c; }
        
        /* Myeongjo Font Class */
        .font-myeongjo { font-family: 'Noto Serif KR', serif; }

        /* Smooth scrolling */
        html { scroll-behavior: smooth; }

        /* Chart container */
        .chart-container { position: relative; width: 100%; max-width: 100%; height: 300px; margin: 0 auto; }
        
        /* Timeline styling */
        .timeline-line { 
            position: absolute; 
            left: 50%; 
            transform: translateX(-50%); 
            top: 0; 
            bottom: 0; 
            width: 4px; 
            background: linear-gradient(to bottom, #e7e5e4, #d6d3d1, #e7e5e4); 
            z-index: 0; 
            border-radius: 2px;
        }
        
        /* Mobile timeline adjustment */
        @media (max-width: 768px) {
            .timeline-line { left: 1.5rem; transform: none; }
        }

        /* Card Animations */
        .timeline-card { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .timeline-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1); }
        
        /* Expansion Animation */
        .detail-content { 
            max-height: 0; 
            overflow: hidden; 
            opacity: 0;
            transition: max-height 0.5s ease-in-out, opacity 0.4s ease-in-out; 
        }
        .expanded .detail-content { 
            max-height: 500px; 
            opacity: 1; 
            margin-top: 1rem;
        }

        /* Marker Pulse Effect */
        .marker-pulse {
            box-shadow: 0 0 0 0 rgba(14, 165, 233, 0.7);
            animation: pulse-blue 2s infinite;
        }
        @keyframes pulse-blue {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(14, 165, 233, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(14, 165, 233, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(14, 165, 233, 0); }
        }

        /* Scroll Reveal Animation Classes */
        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #d6d3d1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a8a29e; }
    </style>
    <!-- Chosen Palette: Warm Neutrals with Sky Blue. Updated Layout: Center Spine Timeline with Expandable Cards. -->
</head>
<body class="antialiased min-h-screen flex flex-col overflow-x-hidden">

    <!-- Header Section with Hero Graphic Feel -->
    <header class="bg-gradient-to-b from-stone-900 to-stone-800 text-stone-100 py-16 px-4 shadow-xl relative overflow-hidden">
        <!-- Home Button Added Here -->
        <a href="index.html" class="absolute top-6 left-6 z-20 flex items-center gap-2 text-stone-400 hover:text-white transition-colors duration-200 group">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            <span class="font-medium text-sm tracking-wide">HOME</span>
        </a>

        <div class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
        <div class="max-w-4xl mx-auto text-center relative z-10 reveal active">
            <span class="inline-block py-1 px-3 rounded-full bg-stone-700 text-stone-300 text-xs font-bold tracking-widest mb-4">DOKDO HISTORY ARCHIVE</span>
            <!-- Font changed to font-myeongjo -->
            <h1 class="text-4xl md:text-6xl font-black mb-4 tracking-tight leading-tight font-myeongjo">
                ë…ë„, <span class="text-sky-400">ì²œë…„ì˜ ê¸°ë¡</span>
            </h1>
            <p class="text-stone-400 max-w-2xl mx-auto text-base md:text-lg font-light leading-relaxed">
                ì—­ì‚¬ì˜ íŒŒë„ ì†ì—ì„œë„ êµ³ê±´íˆ ìë¦¬ë¥¼ ì§€ì¼œì˜¨ ë…ë„.<br>
                ë¬¸í—Œê³¼ ì§€ë„ê°€ ì¦ëª…í•˜ëŠ” ì£¼ê¶Œì˜ ì—­ì‚¬ë¥¼ ì¸í„°ë™í‹°ë¸Œ íƒ€ì„ë¼ì¸ìœ¼ë¡œ íƒí—˜í•´ë³´ì„¸ìš”.
            </p>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-12 max-w-5xl">

        <!-- Application Structure Plan:
             1. Analysis Dashboard: Compact visual summary.
             2. Interactive Filter: Sticky navigation for eras.
             3. Center Spine Timeline: 
                - Desktop: Alternating left/right cards.
                - Mobile: Single column.
                - Interaction: Clicking a card expands it IN-PLACE to show details (Accordion).
        -->

        <!-- Section 1: Dashboard -->
        <section class="mb-16 bg-white rounded-2xl shadow-lg border border-stone-100 p-8 reveal">
            <div class="grid md:grid-cols-12 gap-8 items-center">
                <div class="md:col-span-4">
                    <h2 class="text-3xl font-bold text-stone-800 mb-2 font-myeongjo">ê¸°ë¡ì˜ ë¶„í¬</h2>
                    <p class="text-stone-500 text-sm mb-6">ì‹œëŒ€ë³„ ì£¼ìš” ì‚¬ê±´ ë¹ˆë„ ë¶„ì„</p>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 rounded-lg bg-stone-50 border border-stone-100">
                            <div class="flex items-center gap-3">
                                <span class="w-3 h-3 rounded-full bg-stone-400 shadow-sm"></span>
                                <span class="font-medium text-stone-600">ì „ê·¼ëŒ€</span>
                            </div>
                            <span class="font-bold text-stone-800" id="count-pre">10</span>
                        </div>
                        <div class="flex items-center justify-between p-3 rounded-lg bg-orange-50 border border-orange-100">
                            <div class="flex items-center gap-3">
                                <span class="w-3 h-3 rounded-full bg-orange-400 shadow-sm"></span>
                                <span class="font-medium text-stone-600">ê·¼ëŒ€</span>
                            </div>
                            <span class="font-bold text-stone-800" id="count-modern">10</span>
                        </div>
                        <div class="flex items-center justify-between p-3 rounded-lg bg-sky-50 border border-sky-100">
                            <div class="flex items-center gap-3">
                                <span class="w-3 h-3 rounded-full bg-sky-500 shadow-sm"></span>
                                <span class="font-medium text-stone-600">í˜„ëŒ€</span>
                            </div>
                            <span class="font-bold text-stone-800" id="count-contem">15</span>
                        </div>
                    </div>
                </div>
                <div class="md:col-span-8">
                    <div class="chart-container">
                        <canvas id="recordStatsChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Timeline Controls -->
        <div class="sticky top-4 z-40 bg-white/90 backdrop-blur-md p-2 rounded-2xl shadow-md border border-stone-200 mb-12 flex justify-center max-w-fit mx-auto reveal">
            <div class="flex flex-wrap gap-1 md:gap-2" id="filterContainer">
                <button onclick="filterTimeline('all')" class="filter-btn active px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 bg-stone-800 text-white shadow-lg transform scale-105">
                    ì „ì²´
                </button>
                <button onclick="filterTimeline('pre')" class="filter-btn px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 bg-transparent text-stone-500 hover:bg-stone-100 hover:text-stone-800">
                    ì „ê·¼ëŒ€
                </button>
                <button onclick="filterTimeline('modern')" class="filter-btn px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 bg-transparent text-stone-500 hover:bg-orange-50 hover:text-orange-600">
                    ê·¼ëŒ€
                </button>
                <button onclick="filterTimeline('contemporary')" class="filter-btn px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 bg-transparent text-stone-500 hover:bg-sky-50 hover:text-sky-600">
                    í˜„ëŒ€
                </button>
            </div>
        </div>

        <!-- Section 3: The Timeline -->
        <div class="relative pb-20" id="timelineWrapper">
            <!-- Central Line -->
            <div class="timeline-line bg-stone-200"></div>

            <!-- Content populated by JS -->
            <div id="timelineContent" class="relative z-10 space-y-8 md:space-y-0">
                <!-- Items will be injected here as zig-zag layout -->
            </div>

            <div id="noResults" class="hidden text-center py-20">
                <p class="text-xl text-stone-400 font-light">í•´ë‹¹ ì‹œê¸°ì˜ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </div>

    </main>

    <footer class="bg-stone-900 text-stone-400 py-12 border-t border-stone-800">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-white text-lg font-bold mb-4 font-myeongjo">ë…ë„ ì—­ì‚¬ ì•„ì¹´ì´ë¸Œ</h3>
            <p class="text-sm mb-6 max-w-lg mx-auto leading-relaxed">
                ì´ í˜ì´ì§€ëŠ” ë…ë„ì˜ ì—­ì‚¬ì  ì‚¬ì‹¤ì„ ì‹œê°ì ìœ¼ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•´ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                ì˜¬ë°”ë¥¸ ì—­ì‚¬ë¥¼ ê¸°ì–µí•˜ê³  ì „ë‹¬í•˜ëŠ” ê²ƒì´ ìš°ë¦¬ ë•… ë…ë„ë¥¼ ì§€í‚¤ëŠ” ì²«ê±¸ìŒì…ë‹ˆë‹¤.
            </p>
            <p class="text-xs opacity-50">&copy; 2024 Dokdo History Project. Based on provided historical records.</p>
        </div>
    </footer>

    <script>
        // Data Source
        const timelineData = [
            // Pre-modern
            { id: 1, year: "1454ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€ ê¸°ë¡", source: "ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€", desc: "ìš°ì‚°(ë…ë„)ê³¼ ë¬´ë¦‰(ìš¸ë¦‰ë„)ì´ ë§‘ì€ ë‚  ì„œë¡œ ë°”ë¼ë³¼ ìˆ˜ ìˆë‹¤ê³  ê¸°ë¡ë¨. ë‘ ì„¬ì´ ê°•ì›ë„ ìš¸ì§„í˜„ì— ì†í•¨ì„ ëª…ì‹œ." },
            { id: 2, year: "1481ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "íŒ”ë„ì´ë„ ì œì‘", source: "íŒ”ë„ì´ë„ (<ì‹ ì¦ë™êµ­ì—¬ì§€ìŠ¹ëŒ> ì§€ë„)", desc: "<ì‹ ì¦ë™êµ­ì—¬ì§€ìŠ¹ëŒ>ì— ìˆ˜ë¡ëœ ì§€ë„ë¡œ, ë™í•´ì— ìš¸ë¦‰ë„ì™€ ìš°ì‚°ë„ê°€ ëª…í™•íˆ ê·¸ë ¤ì§." },
            { id: 3, year: "1531ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "ì‹ ì¦ë™êµ­ì—¬ì§€ìŠ¹ëŒ ê¸°ìˆ ", source: "ì‹ ì¦ë™êµ­ì—¬ì§€ìŠ¹ëŒ", desc: "ê°•ì›ë„ ìš¸ì§„í˜„ ì¡°ì— ìš°ì‚°ë„ì™€ ìš¸ë¦‰ë„ì— ê´€í•œ ë‚´ìš©ì´ ìƒì„¸íˆ ê¸°ìˆ ë¨." },
            { id: 4, year: "1667ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "ì€ì£¼ì‹œì²­í•©ê¸° ê¸°ë¡", source: "ì€ì£¼ì‹œì²­í•©ê¸°", desc: "ì¼ë³¸ ê´€ë¦¬ê°€ ì‘ì„±í•œ ë³´ê³ ì„œ. ì¼ë³¸ì˜ ê²½ê³„ê°€ ì˜¤í‚¤ì„¬ì„ì„ ëª…ì‹œí•˜ì—¬ ë…ë„ê°€ ì¼ë³¸ ì˜í†  ë°–ì„ì„ ì¸ì •." },
            { id: 5, year: "1693ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "1ì°¨ ì•ˆìš©ë³µ ì‚¬ê±´", source: "ìˆ™ì¢…ì‹¤ë¡ ë“±", desc: "ì•ˆìš©ë³µ ì¼í–‰ì´ ì¼ë³¸ìœ¼ë¡œ ë‚©ì¹˜ë˜ì—ˆìœ¼ë‚˜, ì¼ë³¸ ë§‰ë¶€ì— ë…ë„ê°€ ì¡°ì„  ë•…ì„ì„ ê°•ë ¥íˆ ì£¼ì¥í•¨." },
            { id: 6, year: "1696ë…„ 1ì›”", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "ì£½ë„ ë„í•´ ê¸ˆì§€ë ¹", source: "ì—ë„ ë§‰ë¶€ ë¬¸ì„œ", desc: "ì—ë„ ë§‰ë¶€ê°€ ìš¸ë¦‰ë„ì™€ ë…ë„ê°€ ì¡°ì„  ë•…ì„ì„ ê³µì‹ì ìœ¼ë¡œ ì¸ì •í•˜ê³  ì¼ë³¸ì¸ì˜ ë„í•´ë¥¼ ê¸ˆì§€í•¨." },
            { id: 7, year: "1696ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "2ì°¨ ì•ˆìš©ë³µ ì‚¬ê±´", source: "ìˆ™ì¢…ì‹¤ë¡ ë“±", desc: "ì•ˆìš©ë³µì´ ë‹¤ì‹œ ë„ì¼í•˜ì—¬ ìš¸ë¦‰ë„ì™€ ë…ë„ê°€ ì¡°ì„  ì˜í† ì„ì„ ì¼ë³¸ ì¸¡ìœ¼ë¡œë¶€í„° í™•ì•½ë°›ìŒ." },
            { id: 8, year: "1697ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "ìš¸ë¦‰ë„ ìˆ˜í† ê´€ ì œë„ ì‹ ì„¤", source: "ì¡°ì„  ì¡°ì •", desc: "ì•ˆìš©ë³µ ì‚¬ê±´ì˜ ì˜í–¥ìœ¼ë¡œ ì¡°ì„  ì •ë¶€ê°€ ì •ê¸°ì ìœ¼ë¡œ ê´€ë¦¬ë¥¼ íŒŒê²¬í•˜ì—¬ ì„¬ì„ ì¡°ì‚¬í•˜ê³  ê´€ë¦¬í•¨." },
            { id: 9, year: "1779ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "ê°œì • ì¼ë³¸ì—¬ì§€ë¡œì •ì „ë„", source: "ë‚˜ê°€ì¿ ë³´ ì„¸í‚¤ìŠ¤ì´", desc: "ë…ë„ì™€ ìš¸ë¦‰ë„ê°€ ì¼ë³¸ ì˜ì—­ ë°–ì˜ ì„¬ìœ¼ë¡œ ì¸ì‹ë˜ì–´ ì±„ìƒ‰ë˜ì§€ ì•Šì€ ì±„(í˜¹ì€ ì¡°ì„ ê³¼ ê°™ì€ ìƒ‰ìœ¼ë¡œ) ê·¸ë ¤ì§." },
            { id: 10, year: "1785ë…„", era: "pre", eraLabel: "ì „ê·¼ëŒ€", title: "ì‚¼êµ­ì ‘ì–‘ì§€ë„", source: "í•˜ì•¼ì‹œ ì‹œí—¤ì´", desc: "ì¼ë³¸ì˜ ì§€ë¦¬í•™ì í•˜ì•¼ì‹œ ì‹œí—¤ì´ê°€ ì œì‘í•œ ì§€ë„. ë…ë„ë¥¼ ì¡°ì„ ê³¼ ê°™ì€ í™©ìƒ‰ìœ¼ë¡œ í‘œì‹œí•˜ì—¬ ì¡°ì„  ì˜í† ì„ì„ ëª…ì‹œ." },
            
            // Modern
            { id: 11, year: "1808ë…„", era: "modern", eraLabel: "ê·¼ëŒ€", title: "ë§Œê¸°ìš”ëŒ ê¸°ë¡", source: "ë§Œê¸°ìš”ëŒ", desc: "'ìš¸ë¦‰ê³¼ ìš°ì‚°ì€ ëª¨ë‘ ìš°ì‚°êµ­ì˜ ë•…'ì´ë¼ëŠ” ê¸°ë¡ì´ ì‹¤ë ¤ ì¡°ì„ ì˜ ì˜í†  ì¸ì‹ì„ ì¬í™•ì¸." },
            { id: 12, year: "1854ë…„", era: "modern", eraLabel: "ê·¼ëŒ€", title: "ëŸ¬ì‹œì•„ ì˜¬ë¦¬ë¶€ì°¨í˜¸ ë…ë„ ë°œê²¬", source: "ì˜¬ë¦¬ë¶€ì°¨í˜¸ í•­í•´ì¼ì§€", desc: "ëŸ¬ì‹œì•„ ìˆ˜ì†¡ì„ ì´ ë…ë„ë¥¼ ë°œê²¬í•˜ê³  ë™ë„ë¥¼ 'ë©”ë„¬ë¼ì´', ì„œë„ë¥¼ 'ì˜¬ë¦¬ë¶€ì°¨'ë¡œ ëª…ëª…í•¨." },
            { id: 13, year: "1857ë…„", era: "modern", eraLabel: "ê·¼ëŒ€", title: "í•œë°˜ë„ ë™í•´ì•ˆ ì§€ë„", source: "ëŸ¬ì‹œì•„ í•´êµ°", desc: "ëŸ¬ì‹œì•„ í•´êµ°ì´ ë°œê°„í•œ ì§€ë„ë¡œ ë…ë„ë¥¼ ëª…í™•íˆ í•œêµ­ ì˜í† ë¡œ ì¸ì •í•˜ì—¬ í‘œì‹œí•¨." },
            { id: 14, year: "1870ë…„", era: "modern", eraLabel: "ê·¼ëŒ€", title: "ì¡°ì„ êµ­ êµì œì‹œë§ ë‚´íƒì„œ", source: "ì¼ë³¸ ì™¸ë¬´ì„±", desc: "ì¼ë³¸ ì™¸ë¬´ì„± ê´€ë£Œë“¤ì´ ìš¸ë¦‰ë„ì™€ ë…ë„ê°€ ì¡°ì„  ì˜í† ê°€ ëœ ì—­ì‚¬ì  ì‚¬ì •ì„ ì¡°ì‚¬í•˜ì—¬ ë³´ê³ í•¨." },
            { id: 15, year: "1877ë…„", era: "modern", eraLabel: "ê·¼ëŒ€", title: "íƒœì •ê´€ ì§€ë ¹", source: "ì¼ë³¸ íƒœì •ê´€", desc: "ì¼ë³¸ ìµœê³  í–‰ì •ê¸°ê´€ì¸ íƒœì •ê´€ì´ 'ë…ë„ì™€ ìš¸ë¦‰ë„ëŠ” ì¼ë³¸ê³¼ ê´€ê³„ì—†ë‹¤'ê³  ë‚´ë¬´ì„±ì— ë‚´ë¦° ê³µì‹ ì§€ë ¹." },
            { id: 16, year: "1894ë…„", era: "modern", eraLabel: "ê·¼ëŒ€", title: "ìš¸ë¦‰ë„ ìˆ˜í† ê´€ ì œë„ ì¢…ë£Œ", source: "-", desc: "ê°œí™”ê¸° í–‰ì • ê°œí¸ ë“±ìœ¼ë¡œ ì¸í•´ ì¡°ì„ ì˜ ì •ê¸°ì ì¸ ìˆ˜í† ê´€ íŒŒê²¬ ì œë„ê°€ ì¢…ë£Œë¨." },
            { id: 17, year: "1900ë…„ 10ì›”", era: "modern", eraLabel: "ê·¼ëŒ€", title: "ëŒ€í•œì œêµ­ ì¹™ë ¹ ì œ41í˜¸", source: "ëŒ€í•œì œêµ­ ê´€ë³´", desc: "ê³ ì¢… í™©ì œê°€ ë…ë„ë¥¼ ìš¸ë„êµ°(ìš¸ë¦‰ë„) ê´€í•  êµ¬ì—­ìœ¼ë¡œ ëª…ë¬¸í™”í•˜ì—¬ ëŒ€ë‚´ì™¸ì— ê³µí¬í•¨. ê·¼ëŒ€ë²•ì  ì˜ìœ ê¶Œ í™•ë¦½." },
            { id: 18, year: "1905ë…„ 1ì›”", era: "modern", eraLabel: "ê·¼ëŒ€", title: "ì¼ë³¸ ë‚´ê°íšŒì˜ ê²°ì •", source: "ì¼ë³¸ ë‚´ê°", desc: "ëŸ¬ì¼ì „ìŸ ì¤‘ ì „ëµì  í•„ìš”ì— ì˜í•´ ì¼ë³¸ ë‚´ê°ì´ ë…ë„ë¥¼ ì¼ë³¸ ì˜í† ë¡œ ê°•ì œ í¸ì…í•˜ê¸°ë¡œ ë¹„ë°€ë¦¬ì— ê²°ì •." },
            { id: 19, year: "1905ë…„ 2ì›”", era: "modern", eraLabel: "ê·¼ëŒ€", title: "ì‹œë§ˆë„¤í˜„ ê³ ì‹œ ì œ40í˜¸", source: "ì‹œë§ˆë„¤í˜„", desc: "ì§€ë°© ì •ë¶€ ê³ ì‹œë¥¼ í†µí•´ ë…ë„ë¥¼ 'ë‹¤ì¼€ì‹œë§ˆ'ë¡œ ëª…ëª…í•˜ê³  ì‹œë§ˆë„¤í˜„ ì†Œì†ìœ¼ë¡œ í¸ì…í•œë‹¤ê³  ì£¼ì¥." },
            { id: 20, year: "1906ë…„ 5ì›”", era: "modern", eraLabel: "ê·¼ëŒ€", title: "ì§€ë ¹ ì œ3í˜¸", source: "ëŒ€í•œì œêµ­ ì˜ì •ë¶€", desc: "ê°•ì›ë„ ê´€ì°°ì‚¬ë¡œë¶€í„° ì¼ë³¸ì˜ ë…ë„ í¸ì… ì†Œì‹ì„ ë“¤ì€ ì˜ì •ë¶€ê°€ ì´ë¥¼ 'ê·¼ê±° ì—†ëŠ” ì£¼ì¥'ìœ¼ë¡œ ê·œì •í•˜ê³  ì§€ë ¹ì„ ë‚´ë¦¼." },

            // Contemporary
            { id: 21, year: "1946ë…„ 1ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "SCAPIN ì œ677í˜¸", source: "ì—°í•©êµ° ìµœê³ ì‚¬ë ¹ë¶€", desc: "ì—°í•©êµ° ìµœê³ ì‚¬ë ¹ê´€ ì§€ë ¹ìœ¼ë¡œ ë…ë„ë¥¼ ì¼ë³¸ì˜ í†µì¹˜ ë° í–‰ì • ë²”ìœ„ì—ì„œ ëª…í™•íˆ ì œì™¸í•¨." },
            { id: 22, year: "1951ë…„ 9ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ìƒŒí”„ë€ì‹œìŠ¤ì½” ê°•í™”ì¡°ì•½", source: "êµ­ì œ ì¡°ì•½", desc: "ì¼ë³¸ì´ í•œêµ­ì˜ ë…ë¦½ì„ ì¸ì •. ë…ë„ê°€ ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰ë˜ì§€ëŠ” ì•Šì•˜ìœ¼ë‚˜ SCAPIN ë“± ì´ì „ ë¬¸ì„œë¥¼ í†µí•´ í•œêµ­ ì˜í† ì„ì´ ì „ì œë¨." },
            { id: 23, year: "1952ë…„ 1ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ì´ìŠ¹ë§Œ ë¼ì¸ (í‰í™”ì„ ) ì„ í¬", source: "ëŒ€í•œë¯¼êµ­ ì •ë¶€", desc: "ì¸ì ‘ í•´ì–‘ì— ëŒ€í•œ ì£¼ê¶Œì„ ì„ ì–¸í•˜ë©° ë…ë„ë¥¼ í¬í•¨í•œ í‰í™”ì„ ì„ ì„ í¬í•˜ì—¬ ì–´ì¡± ìì› ë° ì˜í†  ë³´í˜¸." },
            { id: 24, year: "1953ë…„ 7ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ë…ë„ê²½ë¹„ëŒ€(ë…ë„ìˆœë¼ë°˜) í™œë™", source: "ë¯¼ê°„/ê²½ì°°", desc: "í™ìˆœì¹  ëŒ€ì¥ ë“± ë…ë„ì˜ìš©ìˆ˜ë¹„ëŒ€ê°€ ëª¨ì²´ê°€ ë˜ì–´ ë…ë„ ìƒì‹œ ì£¼ë‘” ë° ìˆ˜í˜¸ í™œë™ ì‹œì‘." },
            { id: 25, year: "1954ë…„ 9ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ì¼ë³¸ ICJ ì œì†Œ ì œì•ˆ", source: "ì¼ë³¸ ì •ë¶€", desc: "ì¼ë³¸ ì •ë¶€ê°€ ë…ë„ ë¬¸ì œë¥¼ êµ­ì œì‚¬ë²•ì¬íŒì†Œ(ICJ)ì— íšŒë¶€í•˜ìê³  ìµœì´ˆë¡œ ì œì•ˆí–ˆìœ¼ë‚˜ í•œêµ­ ì •ë¶€ê°€ ê±°ì ˆ." },
            { id: 26, year: "1965ë…„ 6ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "í•œì¼ê¸°ë³¸ì¡°ì•½ ì²´ê²°", source: "í•œì¼ ì •ë¶€", desc: "ë…ë„ ë¬¸ì œë¥¼ ëª…ì‹œì ìœ¼ë¡œ í•´ê²°í•˜ì§€ ì•Šê³  'í•´ê²°í•´ì•¼ í•  ë¬¸ì œ'ë¡œ ë‚¨ê¸°ê¸°ë¡œ í•¨." },
            { id: 27, year: "1968ë…„", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ìµœì¢…ë• ì”¨ ê±°ì£¼ ì‹œì‘", source: "-", desc: "ìµœì¢…ë• ì”¨ê°€ ì„œë„ì— ê±°ì£¼ì‹œì„¤ì„ ì§“ê³  ìƒí™œí•˜ë©° ë…ë„ë¥¼ ìœ ì¸ë„ë¡œ ë§Œë“¦. ì‹¤íš¨ì  ì§€ë°° ê°•í™”." },
            { id: 28, year: "1981ë…„", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ìµœì´ˆì˜ ë…ë„ ì£¼ë¯¼ ë“±ë¡", source: "í–‰ì • ê¸°ë¡", desc: "ìµœì¢…ë• ì”¨ê°€ ì£¼ë¯¼ë“±ë¡ì„ ë…ë„ë¡œ ì´ì „í•˜ì—¬ ë²•ì ìœ¼ë¡œ ìµœì´ˆì˜ ë…ë„ ì£¼ë¯¼ì´ ë¨." },
            { id: 29, year: "1998ë…„ 9ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ì‹ í•œì¼ ì–´ì—…í˜‘ì •", source: "í•œì¼ ì •ë¶€", desc: "ë…ë„ê°€ ì¤‘ê°„ìˆ˜ì—­(ì ì •ìˆ˜ì—­) ì•ˆì— í¬í•¨ë˜ì–´ ì–´ì—… ë¬¸ì œì™€ ê´€ë ¨ëœ ë…¼ë€ì´ ë°œìƒí•¨." },
            { id: 30, year: "2000ë…„ 3ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ì‹œë¯¼ë‹¨ì²´ ë…ë„ìˆ˜í˜¸ëŒ€ ì°½ì„¤", source: "ì‹œë¯¼ ì‚¬íšŒ", desc: "1900ë…„ ì¹™ë ¹ì¼(10ì›” 25ì¼)ì„ ê¸°ë…í•´ 'ë…ë„ì˜ ë‚ ' ì œì • ìš´ë™ì„ ì „ê°œ." },
            { id: 31, year: "2005ë…„ 3ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ë‹¤ì¼€ì‹œë§ˆì˜ ë‚  ì¡°ë¡€ ì œì •", source: "ì¼ë³¸ ì‹œë§ˆë„¤í˜„", desc: "ì¼ë³¸ ì‹œë§ˆë„¤í˜„ ì˜íšŒê°€ ì¼ë°©ì ìœ¼ë¡œ 'ë‹¤ì¼€ì‹œë§ˆì˜ ë‚ ' ì¡°ë¡€ë¥¼ ì œì •í•˜ì—¬ ê°ˆë“± ì‹¬í™”." },
            { id: 32, year: "2006ë…„ 4ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ë…¸ë¬´í˜„ ëŒ€í†µë ¹ íŠ¹ë³„ë‹´í™”", source: "ëŒ€í•œë¯¼êµ­ ì •ë¶€", desc: "ì¼ë³¸ì˜ ë„ë°œì— ëŒ€í•´ ë…ë„ ë¬¸ì œë¥¼ ì—­ì‚¬ì  ì²­ì‚° ë¬¸ì œì™€ ê²°ë¶€ì‹œì¼œ ê°•ë ¥íˆ ëŒ€ì‘í•˜ê² ë‹¤ëŠ” ì˜ì§€ í‘œëª…." },
            { id: 33, year: "2008ë…„", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ë…ë„ì—°êµ¬ì†Œ ì„¤ë¦½", source: "ë™ë¶ì•„ì—­ì‚¬ì¬ë‹¨", desc: "ì •ë¶€ ì‚°í•˜ ì—°êµ¬ê¸°ê´€ì¸ ë…ë„ì—°êµ¬ì†Œê°€ ì„¤ë¦½ë˜ì–´ ì²´ê³„ì ì¸ ì—°êµ¬ì™€ ë…ë„ì²´í—˜ê´€ ìš´ì˜ ì‹œì‘." },
            { id: 34, year: "2014ë…„ 8ì›”", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "í•œì¼ ê³µë™ ì—­ì‚¬êµì¬ ë°œê°„", source: "í•™ê³„/ì‹œë¯¼ì‚¬íšŒ", desc: "í•œì¼ êµì‚¬Â·êµìˆ˜ë“¤ì´ ê³µë™ ì§‘í•„í•˜ì—¬ ì˜¬ë°”ë¥¸ ì—­ì‚¬ ì¸ì‹ì„ ìœ„í•œ êµì¬ ë°œê°„." },
            { id: 35, year: "2015ë…„", era: "contemporary", eraLabel: "í˜„ëŒ€", title: "ì¼ë³¸ êµê³¼ì„œ ì™œê³¡ ì‹¬í™”", source: "ì¼ë³¸ ë¬¸ë¶€ê³¼í•™ì„±", desc: "ì¼ë³¸ì˜ ëª¨ë“  ì´ˆë“±í•™êµ êµê³¼ì„œì— ë…ë„ê°€ 'ì¼ë³¸ ì˜í† 'ì´ë©° 'í•œêµ­ì´ ë¶ˆë²• ì ê±°' ì¤‘ì´ë¼ê³  ê¸°ìˆ ë¨." }
        ];

        let expandedId = null;

        // --- Chart & Stats ---
        function initChartAndStats() {
            // Update Dashboard Counters
            const preCount = timelineData.filter(d => d.era === 'pre').length;
            const modernCount = timelineData.filter(d => d.era === 'modern').length;
            const contemCount = timelineData.filter(d => d.era === 'contemporary').length;

            document.getElementById('count-pre').textContent = preCount;
            document.getElementById('count-modern').textContent = modernCount;
            document.getElementById('count-contem').textContent = contemCount;

            const ctx = document.getElementById('recordStatsChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['ì „ê·¼ëŒ€ (15-18ì„¸ê¸°)', 'ê·¼ëŒ€ (19ì„¸ê¸°-1906)', 'í˜„ëŒ€ (1946-í˜„ì¬)'],
                    datasets: [{
                        label: 'ê¸°ë¡ ìˆ˜',
                        data: [preCount, modernCount, contemCount],
                        backgroundColor: ['rgba(168, 162, 158, 0.8)', 'rgba(251, 146, 60, 0.8)', 'rgba(14, 165, 233, 0.8)'],
                        borderColor: ['#a8a29e', '#fb923c', '#0ea5e9'],
                        borderWidth: 1,
                        borderRadius: 8,
                        barThickness: 40
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: '#f5f5f4' } },
                        x: { grid: { display: false } }
                    }
                }
            });
        }

        // --- Timeline Render (Zig-Zag / Center Spine) ---
        function renderTimeline(filterEra) {
            const container = document.getElementById('timelineContent');
            const noResults = document.getElementById('noResults');
            
            container.innerHTML = '';
            
            const filteredData = filterEra === 'all' 
                ? timelineData 
                : timelineData.filter(item => item.era === filterEra);

            if (filteredData.length === 0) {
                noResults.classList.remove('hidden');
                return;
            } else {
                noResults.classList.add('hidden');
            }

            filteredData.forEach((item, index) => {
                // Color Theme based on Era
                let theme = {
                    bg: 'bg-stone-50', border: 'border-stone-200', 
                    text: 'text-stone-500', accent: 'bg-stone-400', 
                    markerBorder: 'border-stone-300', markerBg: 'bg-stone-400',
                    gradient: 'from-stone-500 to-stone-600'
                };
                
                if(item.era === 'modern') { 
                    theme = { 
                        bg: 'bg-orange-50', border: 'border-orange-200', 
                        text: 'text-orange-600', accent: 'bg-orange-400',
                        markerBorder: 'border-orange-300', markerBg: 'bg-orange-400',
                        gradient: 'from-orange-500 to-red-500' 
                    }; 
                } else if(item.era === 'contemporary') { 
                    theme = { 
                        bg: 'bg-sky-50', border: 'border-sky-200', 
                        text: 'text-sky-600', accent: 'bg-sky-500',
                        markerBorder: 'border-sky-300', markerBg: 'bg-sky-500',
                        gradient: 'from-sky-500 to-blue-600'
                    }; 
                }

                // Zig-Zag Logic: Even -> Left, Odd -> Right (Desktop)
                // Mobile: Always full width with left padding
                const isLeft = index % 2 === 0;
                
                // Main Container
                const row = document.createElement('div');
                row.className = `flex flex-col md:flex-row items-center w-full reveal`; // "reveal" for scroll anim

                // Center Marker
                const marker = document.createElement('div');
                marker.className = `absolute left-[1.5rem] md:left-1/2 w-6 h-6 rounded-full border-4 ${theme.markerBorder} ${theme.markerBg} shadow-lg z-20 transform -translate-x-1/2 mt-6 md:mt-0 order-1 md:order-2 transition-transform duration-300 group-hover:scale-125`;
                // Add marker ID for pulsing effect
                marker.id = `marker-${item.id}`;

                // The Card Content
                const card = document.createElement('div');
                card.id = `card-${item.id}`;
                card.className = `timeline-card relative bg-white p-6 rounded-2xl shadow-sm border ${theme.border} cursor-pointer hover:shadow-xl w-full`;
                card.onclick = () => toggleEvent(item.id, theme);

                card.innerHTML = `
                    <div class="flex flex-col gap-2">
                        <div class="flex items-center gap-2 ${isLeft ? 'md:justify-end' : 'md:justify-start'} justify-start">
                            <span class="text-xs font-bold px-2 py-1 rounded text-white bg-gradient-to-r ${theme.gradient}">${item.eraLabel}</span>
                            <span class="text-xl font-black ${theme.text}">${item.year}</span>
                        </div>
                        <h3 class="text-lg font-bold text-stone-800 ${isLeft ? 'md:text-right' : 'md:text-left'}">${item.title}</h3>
                        
                        <!-- Expanded Details (Accordion) -->
                        <div id="detail-${item.id}" class="detail-content text-left">
                            <div class="pt-4 border-t ${theme.border} mt-2">
                                <div class="flex items-start gap-2 mb-3">
                                    <span class="text-lg">ğŸ“œ</span>
                                    <span class="text-sm font-bold text-stone-700 bg-stone-100 px-2 py-0.5 rounded self-center">${item.source}</span>
                                </div>
                                <p class="text-stone-600 leading-relaxed text-sm md:text-base">${item.desc}</p>
                            </div>
                        </div>
                        
                        <div class="absolute top-6 right-6 text-stone-300 md:hidden">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </div>
                    </div>
                `;

                // Simplified Structure Logic for Desktop Zig-Zag / Mobile List
                // We use visual order manipulation or simple hidden/block classes
                
                row.className = `flex flex-col md:flex-row w-full reveal relative mb-8 md:mb-0`;
                
                // Construct HTML with visibility classes for Desktop Left/Right
                row.innerHTML = `
                    <div class="absolute left-[1.5rem] md:left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full border-4 ${theme.markerBorder} ${theme.markerBg} z-20 mt-6 shadow-md transition-all duration-300" id="marker-visual-${item.id}"></div>
                    
                    <!-- Left Side (Desktop) -->
                    <div class="w-full md:w-1/2 md:pr-10 flex md:justify-end ${isLeft ? '' : 'hidden md:flex md:invisible'} pl-12 md:pl-0 mb-4 md:mb-0">
                        ${isLeft ? card.outerHTML : ''}
                    </div>

                    <!-- Right Side (Desktop) -->
                    <div class="w-full md:w-1/2 md:pl-10 flex md:justify-start ${!isLeft ? '' : 'hidden md:flex md:invisible'} pl-12 md:pl-0">
                         ${!isLeft ? card.outerHTML : ''}
                    </div>
                `;

                container.appendChild(row);
                
                // Re-attach event listener
                const insertedCard = document.getElementById(`card-${item.id}`);
                if(insertedCard) {
                    insertedCard.onclick = () => toggleEvent(item.id, theme);
                }
            });
            
            setTimeout(checkScroll, 100);
        }

        // --- Interaction Logic ---
        function filterTimeline(era) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-stone-800', 'text-white', 'shadow-lg', 'scale-105');
                btn.classList.add('bg-transparent', 'text-stone-500');
            });
            
            const activeBtn = Array.from(document.querySelectorAll('.filter-btn'))
                .find(btn => btn.getAttribute('onclick').includes(`'${era}'`));
            
            if(activeBtn) {
                activeBtn.classList.remove('bg-transparent', 'text-stone-500');
                activeBtn.classList.add('active', 'bg-stone-800', 'text-white', 'shadow-lg', 'scale-105');
            }

            renderTimeline(era);
        }

        function toggleEvent(id, theme) {
            const content = document.getElementById(`detail-${id}`);
            const card = document.getElementById(`card-${id}`);
            const marker = document.getElementById(`marker-visual-${id}`);
            const wasExpanded = content.parentElement.classList.contains('expanded');

            // Collapse currently expanded if exists and is not self
            if (expandedId && expandedId !== id) {
                const prevContent = document.getElementById(`detail-${expandedId}`);
                const prevCard = document.getElementById(`card-${expandedId}`);
                const prevMarker = document.getElementById(`marker-visual-${expandedId}`);
                if (prevCard) {
                    prevCard.classList.remove('expanded', 'ring-2', 'ring-offset-2', 'ring-stone-400', 'scale-105');
                    prevCard.classList.remove('bg-stone-50', 'bg-orange-50', 'bg-sky-50'); 
                    prevCard.classList.add('bg-white');
                }
                if (prevMarker) prevMarker.classList.remove('marker-pulse', 'scale-125');
            }

            // Toggle Self
            if (!wasExpanded) {
                card.classList.add('expanded', 'ring-2', 'ring-offset-2', 'ring-stone-400', 'scale-105');
                card.classList.remove('bg-white');
                card.classList.add(theme.bg);
                marker.classList.add('marker-pulse', 'scale-125');
                expandedId = id;
            } else {
                card.classList.remove('expanded', 'ring-2', 'ring-offset-2', 'ring-stone-400', 'scale-105');
                card.classList.add('bg-white');
                card.classList.remove(theme.bg);
                marker.classList.remove('marker-pulse', 'scale-125');
                expandedId = null;
            }
        }

        function checkScroll() {
            const reveals = document.querySelectorAll('.reveal');
            const triggerBottom = window.innerHeight * 0.85;

            reveals.forEach(box => {
                const boxTop = box.getBoundingClientRect().top;
                if (boxTop < triggerBottom) {
                    box.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', checkScroll);

        // --- Initialization ---
        window.addEventListener('DOMContentLoaded', () => {
            initChartAndStats();
            renderTimeline('all');
        });

    </script>
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</body>
</html>
